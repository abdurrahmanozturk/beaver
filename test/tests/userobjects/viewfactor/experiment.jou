reset

#create pellet
create surface rectangle width 0.005 height 0.015
surface 1 move 0.0025 0 0
create surface rectangle width 0.008 height 0.015
surface 2 move 0.004 0 0
create surface rectangle width 0.010 height 0.015
surface 3 move 0.005 0 0
create surface rectangle width 0.012 height 0.015
surface 4 move 0.006 0 0
create surface rectangle width 0.014 height 0.015
surface 5 move 0.007 0 0
subtract body 2 from body 3
subtract body 4 from body 5
sweep surface 1 6 7 all yaxis angle 15
curve 4 29 21 39 12 35 24 47 20 43 interval 5
curve 28 30 34 38 33 36 42 46 41 44 interval 1
mesh volume 1 3 5

#sweep surface 2 yaxis angle 15
#rotate volume 2 about y angle 30
#create surface rectangle width 0.005 height 0.015
#surface 11 move 0.0025 0 0
#sweep surface 11 yaxis angle 30
#rotate volume 3 about y angle 150
#merge volume 1 2 3

##create electrodes
#create surface rectangle width 0.0005 height 1.5
#surface 16 move 0.525 0 0
#sweep surface 16 yaxis angle 30
#create surface rectangle width 0.05 height 1.5
#surface 22 move 0.525 0 0
#sweep surface 22 yaxis angle 30
#rotate volume 5 about y angle 150
#
##create electrode sleeve
#create surface rectangle width 0.03 height 1.5
#surface 28 move 0.565 0 0
#sweep surface 28 yaxis angle 30
#create surface rectangle width 0.03 height 1.5
#surface 34 move 0.565 0 0
#sweep surface 34 yaxis angle 120
#rotate volume 7 about y angle 30
#create surface rectangle width 0.03 height 1.5
#surface 40 move 0.565 0 0
#sweep surface 40 yaxis angle 30
#rotate volume 8 about y angle 150
#
###create susceptor
##create surface rectangle width 0.25 height 2
##surface 46 move 1.25 0.25 0
##sweep surface 46 yaxis angle 30
##create surface rectangle width 0.25 height 2
##surface 52 move 1.25 0.25 0
##sweep surface 52 yaxis angle 120
##rotate volume 10 about y angle 30
##create surface rectangle width 0.25 height 2
##surface 58 move 1.25 0.25 0
##sweep surface 58 yaxis angle 30
##rotate volume 11 about y angle 150
#
##mesh pellet
#curve 6 8 24 26 interval 4
#curve 1 3 5 9 10 12 14 18 19 21 23 27 interval 6
#curve 2 4 7 11 13 16 20 22 25 interval 10
#curve 15 17 interval 14
#volume 1 scheme sweep source surface 4 target 2
#mesh volume 1
#volume 2 scheme sweep source surface 9 target 7
#mesh volume 2
#volume 3 scheme sweep source surface 14 target 12
#mesh volume 3
#
##mesh electrodes
#curve 28 30 35 39 40 42 47 51 interval 2
#curve 33 34 36 38 45 46 48 50 interval 4
#curve 29 31 32 37 41 43 44 49 interval 10
#volume 4 scheme sweep source surface 18 target 20
#mesh volume 4
#volume 5 scheme sweep source surface 26 target 24
#mesh volume 5
#
##mesh electrode sleeve
#curve 87 75 76 64 63 52 54 66 59 71 78 83 interval 2
#curve 86 62 58 82 84 81 57 60 interval 4
#curve 69 72 70 74 interval 10
#curve 55 53 56 65 61 67 77 68 73 79 85 80 interval 14
#volume 6 scheme sweep source surface 33 target 28
#mesh volume 6
#volume 7 scheme sweep source surface 39 target 34
#mesh volume 7
#volume 8 scheme sweep source surface 45 target 40
#mesh volume 8
#merge volume 6 7 8
#
###mesh susceptor
##curve 99 95 88 90 98 94 96 93 118 122 117 120 123 111 119 107 112 102 100 interval 2
##curve 92 97 89 91 113 104 115 109 101 103 interval 4
##curve 106 110 105 108 interval 8
##volume 9 scheme sweep source surface 51 target 46
##mesh volume 9
##volume 10 scheme sweep source surface 56 surface 54
##mesh volume 10
##volume 11 scheme sweep source surface 62 surface 60
##mesh volume 11
#
##blocks/sidesets
block 1 add volume 1
block 1 name "pellet"
block 2 add volume 3
block 2 name "electrode sleeve"
block 3 add volume 5
block 3 name "susceptor"
#block 4 add volume 9 10 11
#block 4 name "susceptor"
sideset 1 add surface 9
sideset 1 name "pellet_outside"
sideset 2 add surface 15
sideset 2 name "electrode_sleeve_inner"
sideset 3 add surface 13
sideset 3 name "electrode_sleeve_outer"
sideset 4 add surface 20
sideset 4 name "susceptor_inner"
sideset 5 add surface 18
sideset 5 name "susceptor_outer"
#sideset 6 add surface 4 9 14
#sideset 6 name "pellet top"
#sideset 7 add surface 20 26
#sideset 7 name "electrode top"
#sideset 8 add surface 32
#sideset 8 name "electrode sleeve top"
#sideset 9 add surface 38
#sideset 9 name "susceptor top"
#sideset 10 add surface 47 53 59
#sideset 10 name "susceptor inner wall"
#sideset 11 add surface 31
#sideset 11 name "electrode sleeve1 outer wall"
#sideset 12 add surface 29
#sideset 12 name "electrode sleeve1 inner wall"
#sideset 13 add surface 19
#sideset 13 name "electrode1 outer wall"
#sideset 14 add surface 25
#sideset 14 name "electrode2 outer wall"
#sideset 15 add surface 17
#sideset 15 name "electrode1 inner wall"
#sideset 16 add surface 23
#sideset 16 name "electrode2 inner wall"
#sideset 17 add surface 8
#sideset 17 name "pellet exposed wall"
#sideset 18 add surface 3
#sideset 18 name "pellet electrode1 wall"
#sideset 19 add surface 13
#sideset 19 name "pellet electrode2 wall"
#sideset 20 add surface 49
#sideset 20 name "susceptor outer wall"
#sideset 21 add surface 20
#sideset 21 name "electrode1 top"
#sideset 22 add surface 26
#sideset 22 name "electrode2 top"
#sideset 24 add surface 18
#sideset 24 name "electrode1 bottom"
#sideset 25 add surface 24
#sideset 25 name "electrode2 bottom"
#sideset 26 add surface 53 58
#sideset 26 name "pellet top radiative surface"
#sideset 27 add surface 37
#sideset 27 name "electrode sleeve2 outer wall"
#sideset 28 add surface 35
#sideset 28 name "electrode sleeve2 inner wall"
#sideset 29 add surface 43
#sideset 29 name "electrode sleeve3 outer wall"
#sideset 30 add surface 41
#sideset 30 name "electrode sleeve3 inner wall"
#sideset 31 add surface 31 37 43
#sideset 31 name "electrode sleeve outer wall"
#sideset 32 add surface 29 35 41
#sideset 32 name "electrode sleeve inner wall"
#sideset 33 add surface 19 25
#sideset 33 name "electrodes outer surfaces"
#sideset 34 add surface 47
#sideset 34 name "susceptor1 inner wall"
#sideset 35 add surface 53
#sideset 35 name "susceptor2 inner wall"
#sideset 36 add surface 59
#sideset 36 name "susceptor3 inner wall"
#nodeset 1001 add node 2 80
#nodeset 1001 name "pellet centerline"
#nodeset 1002 add node 1705 1696
#nodeset 1002 name "sleeve2 centerline"
#nodeset 1003 add node 2239 2267
#nodeset 1003 name "susceptor2 centerline"
#
##volume all scale 0.01
#
block all element type HEX8

export mesh "~/projects/beaver/test/tests/userobjects/viewfactor/experiment.e" overwrite
export mesh "~/projects/moose/modules/heat_conduction/test/tests/heat_conduction/radiative_heat_transfer/experiment.e" overwrite
#export genesis "~/projects/beaver/test/tests/userobjects/viewfactor/experiment.e" overwrite
